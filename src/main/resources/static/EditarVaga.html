<!DOCTYPE html>
<html data-bs-theme="light" lang="pt-BR">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Editar Vaga - TechFree</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/bs-theme-overrides.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300,400,600,700,800&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Azeret+Mono:400,700&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nunito:400,700,900&display=swap">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        main, section.bg-dark {
            min-height: 100vh;
        }
        .edit-container {
            max-width: 1200px;
            margin: 0 auto;
        }
        .edit-card {
            background: rgba(255,255,255,0.09);
            color: #fff;
            border-radius: 1.5rem;
            box-shadow: 0 4px 32px rgba(0,0,0,0.10);
            padding: 3rem 2.5rem 2rem 2.5rem;
            margin-bottom: 2.5rem;
        }
        .edit-section-title {
            color: #FF6F00;
            font-weight: 800;
            margin-bottom: 2.5rem;
            font-size: 1.5rem;
            letter-spacing: 0.5px;
            text-align: center;
        }
        .edit-field-label {
            color: #fff;
            font-weight: 700;
            margin-bottom: 0.2rem;
            letter-spacing: 0.2px;
        }
        .edit-field-value {
            background: rgba(34,36,58,0.7);
            color: #fff;
            border-radius: 0.7rem;
            padding: 0.8rem 1.1rem;
            font-size: 1.08rem;
            margin-bottom: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            cursor: pointer;
            transition: background 0.2s;
            min-height: 48px;
        }
        .edit-field-value:hover {
            background: #22243a;
        }
        .edit-icon {
            color: #FF6F00;
            font-size: 1.2rem;
            margin-left: 0.7rem;
        }
        .edit-actions {
            text-align: right;
            margin-top: 2rem;
        }
        .edit-actions .btn {
            min-width: 120px;
            margin-left: 0.7rem;
        }
        .edit-input, .edit-select, .edit-textarea {
            background: #22243a;
            color: #fff;
            border: 1.5px solid #44495a;
            border-radius: 0.7rem;
            font-size: 1.08rem;
            padding: 0.8rem 1.1rem;
            margin-bottom: 1.2rem;
            width: 100%;
        }
        .edit-input:focus, .edit-select:focus, .edit-textarea:focus {
            background: #22243a;
            color: #fff;
            border-color: #FF6F00;
            box-shadow: 0 0 0 0.15rem rgba(255,111,0,0.15);
        }
        .tag {
            background: #FF6F00;
            color: #fff;
            border-radius: 0.5rem;
            padding: 0.3rem 0.9rem 0.3rem 0.7rem;
            margin-right: 0.5rem;
            margin-bottom: 0.3rem;
            display: inline-flex;
            align-items: center;
            font-size: 1.01rem;
        }
        .tag .remove-tag {
            margin-left: 0.5rem;
            cursor: pointer;
            color: #fff;
            font-weight: bold;
            font-size: 1.1rem;
        }
        .edit-section-subtitle {
            color: #bdbdbd;
            font-size: 1.08rem;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        @media (max-width: 991px) {
            .edit-card {
                padding: 2rem 1rem 1.5rem 1rem;
            }
            .edit-container {
                max-width: 98vw !important;
            }
        }
    </style>
</head>

<body>
    <nav class="navbar navbar-expand-md sticky-top py-3 navbar-dark" id="mainNav">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <span class="bs-icon-sm bs-icon-circle bs-icon-primary shadow d-flex justify-content-center align-items-center me-2 bs-icon" style="width: 60px;height: 60px;background: #00294B;">
                    <img src="assets/img/Captura_de_tela_2025-05-16_211248-removebg-preview.png" width="54" height="33" style="margin-left: 3px;">
                </span>
            </a>
            <button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1">
                <span class="visually-hidden">Toggle navigation</span>
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navcol-1">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item"><a class="nav-link" href="/Inicio.html">Inicio</a></li>
                    <li class="nav-item"><a class="nav-link" href="/faq.html">FAQ</a></li>
                </ul>
                <a class="btn btn-primary shadow" role="button" href="signup.html">Entrar</a>
            </div>
        </div>
    </nav>
    <main>
        <section class="bg-dark py-5">
            <div class="edit-container">
                <div class="edit-card">
                    <div class="edit-section-title">Editar Vaga/Projeto</div>
                    <div class="edit-section-subtitle">Clique em qualquer campo para editar. Salve cada alteração individualmente.</div>
                    <form id="editForm" autocomplete="off">
                        <div class="row g-4">
                            <!-- Coluna 1 -->
                            <div class="col-md-6">
                                <!-- Título -->
                                <div>
                                    <div class="edit-field-label">Título da Vaga/Projeto</div>
                                    <div class="edit-field-value" data-field="titulo">
                                        <span id="display-titulo">Desenvolvedor Front-end</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Grau de Experiência -->
                                <div>
                                    <div class="edit-field-label">Grau de Experiência</div>
                                    <div class="edit-field-value" data-field="grau">
                                        <span id="display-grau">Pleno</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Modalidade -->
                                <div>
                                    <div class="edit-field-label">Modalidade</div>
                                    <div class="edit-field-value" data-field="modalidade">
                                        <span id="display-modalidade">Remoto</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Local -->
                                <div>
                                    <div class="edit-field-label">Local</div>
                                    <div class="edit-field-value" data-field="local">
                                        <span id="display-local">São Paulo, SP</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Carga Horária -->
                                <div>
                                    <div class="edit-field-label">Carga Horária</div>
                                    <div class="edit-field-value" data-field="carga">
                                        <span id="display-carga">20h/semana</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Faixa de Pagamento -->
                                <div>
                                    <div class="edit-field-label">Faixa de Pagamento</div>
                                    <div class="edit-field-value" data-field="faixa">
                                        <span id="display-faixa">R$ 2.000 - R$ 3.000</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Prazo do Projeto -->
                                <div>
                                    <div class="edit-field-label">Prazo do Projeto</div>
                                    <div class="edit-field-value" data-field="prazo">
                                        <span id="display-prazo">3 meses</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                            </div>
                            <!-- Coluna 2 -->
                            <div class="col-md-6">
                                <!-- Linguagens/Tecnologias -->
                                <div>
                                    <div class="edit-field-label">Linguagens/Tecnologias</div>
                                    <div class="edit-field-value" data-field="linguagens">
                                        <span id="display-linguagens">
                                            <span class="tag">React</span>
                                            <span class="tag">Node.js</span>
                                        </span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Descrição -->
                                <div>
                                    <div class="edit-field-label">Descrição</div>
                                    <div class="edit-field-value" data-field="descricao">
                                        <span id="display-descricao">Descreva o projeto, desafios e responsabilidades...</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Requisitos -->
                                <div>
                                    <div class="edit-field-label">Requisitos</div>
                                    <div class="edit-field-value" data-field="requisitos">
                                        <span id="display-requisitos">React, Node.js, experiência com APIs...</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Diferenciais -->
                                <div>
                                    <div class="edit-field-label">Diferenciais</div>
                                    <div class="edit-field-value" data-field="diferenciais">
                                        <span id="display-diferenciais">Experiência com Figma, inglês avançado...</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Benefícios -->
                                <div>
                                    <div class="edit-field-label">Benefícios</div>
                                    <div class="edit-field-value" data-field="beneficios">
                                        <span id="display-beneficios">Horário flexível, bônus por entrega...</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                                <!-- Email para Contato -->
                                <div>
                                    <div class="edit-field-label">Email para Contato</div>
                                    <div class="edit-field-value" data-field="contato">
                                        <span id="display-contato">empresa@email.com</span>
                                        <i class="bi bi-pencil-square edit-icon"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="edit-actions">
                            <button type="button" class="btn btn-secondary" id="btnSalvar" style="display:none;">Salvar</button>
                            <button type="button" class="btn btn-outline-light" id="btnCancelar" style="display:none;">Cancelar</button>
                        </div>
                    </form>
                </div>
            </div>
        </section>
    </main>
    <footer class="bg-dark mt-5">
        <div class="container py-4 py-lg-5">
            <div class="row justify-content-center">
                <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column">
                    <h3 class="fs-6 fw-bold">Dúvidas</h3>
                    <ul class="list-unstyled">
                        <li>FAQ</li>
                        <li><a href="#">Central de ajuda</a></li>
                        <li>Política de privacidade</li>
                    </ul>
                </div>
                <div class="col-sm-4 col-md-3 text-center text-lg-start d-flex flex-column">
                    <h3 class="fs-6 fw-bold">Sobre</h3>
                    <ul class="list-unstyled">
                        <li><a href="#">Publique seu projeto</a></li>
                        <li><a href="#">Cadastro</a></li>
                        <li><a href="#">Lista de freelancers</a></li>
                    </ul>
                </div>
                <div class="col-lg-3 text-center text-lg-start d-flex flex-column align-items-center order-first align-items-lg-start order-lg-last">
                    <div class="fw-bold d-flex align-items-center mb-2">
                        <span class="bs-icon-sm bs-icon-circle bs-icon-primary shadow d-flex justify-content-center align-items-center me-2 bs-icon" style="width: 40px;height: 40px;background: #00294B;">
                            <img src="assets/img/Captura_de_tela_2025-05-16_211248-removebg-preview.png" width="30" height="23" style="height: 18px;">
                        </span>
                        <span>TechFree</span>
                    </div>
                    <p class="text-muted">Feito com muito amor e dedicação por alunos da Fatec Carapicuíba!❤️</p>
                </div>
            </div>
            <hr>
            <div class="text-muted d-flex justify-content-between align-items-center pt-3">
                <p class="mb-0">Copyright © 2025 TechFree</p>
                <ul class="list-inline mb-0">
                    <li class="list-inline-item"><i class="bi bi-github"></i></li>
                    <li class="list-inline-item"><i class="bi bi-twitter"></i></li>
                    <li class="list-inline-item"><i class="bi bi-instagram"></i></li>
                </ul>
            </div>
        </div>
    </footer>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script>
        // Dados simulados iniciais
        const vaga = {
            titulo: "Desenvolvedor Front-end",
            grau: "Pleno",
            modalidade: "Remoto",
            local: "São Paulo, SP",
            carga: "20h/semana",
            faixa: "R$ 2.000 - R$ 3.000",
            prazo: "3 meses",
            linguagens: ["React", "Node.js"],
            descricao: "Descreva o projeto, desafios e responsabilidades...",
            requisitos: "React, Node.js, experiência com APIs...",
            diferenciais: "Experiência com Figma, inglês avançado...",
            beneficios: "Horário flexível, bônus por entrega...",
            contato: "empresa@email.com"
        };

        let editingField = null;
        let linguagensTemp = [...vaga.linguagens];

        // Função para renderizar os campos
        function renderFields() {
            for (const key in vaga) {
                if (key === "linguagens") {
                    const linguagensSpan = document.getElementById("display-linguagens");
                    linguagensSpan.innerHTML = vaga.linguagens.map(l => `<span class="tag">${l}</span>`).join('');
                } else {
                    const el = document.getElementById("display-" + key);
                    if (el) el.textContent = vaga[key];
                }
            }
            // Mostra todos os campos no modo visualização
            document.querySelectorAll(".edit-field-value").forEach(el => el.classList.remove("editing"));
            document.getElementById("btnSalvar").style.display = "none";
            document.getElementById("btnCancelar").style.display = "none";
            editingField = null;
        }

        renderFields();

        // Função para abrir modo de edição
        function openEdit(field) {
            if (editingField) return;
            editingField = field;
            document.getElementById("btnSalvar").style.display = "inline-block";
            document.getElementById("btnCancelar").style.display = "inline-block";
            // Troca o campo para input
            const value = vaga[field];
            const fieldDiv = document.querySelector(`.edit-field-value[data-field='${field}']`);
            fieldDiv.classList.add("editing");
            let inputHtml = "";
            if (field === "grau") {
                inputHtml = `<select class="edit-select" id="input-${field}">
                    <option>Júnior</option>
                    <option>Pleno</option>
                    <option>Sênior</option>
                    <option>Todos os níveis</option>
                </select>`;
            } else if (field === "modalidade") {
                inputHtml = `<select class="edit-select" id="input-${field}">
                    <option>Remoto</option>
                    <option>Presencial</option>
                    <option>Híbrido</option>
                </select>`;
            } else if (field === "descricao" || field === "requisitos" || field === "diferenciais" || field === "beneficios") {
                inputHtml = `<textarea class="edit-textarea" id="input-${field}" rows="2">${value}</textarea>`;
            } else if (field === "linguagens") {
                inputHtml = `<div id="linguagens-edit-tags"></div>
                    <input class="edit-input mt-2" id="input-linguagens" type="text" placeholder="Adicionar tecnologia e Enter">`;
            } else {
                inputHtml = `<input class="edit-input" id="input-${field}" type="text" value="${value}">`;
            }
            fieldDiv.innerHTML = `<span style="width:100%">${inputHtml}</span>`;
            // Preenche selects
            if (field === "grau" || field === "modalidade") {
                document.getElementById("input-" + field).value = value;
            }
            // Tags para linguagens
            if (field === "linguagens") {
                renderTagsEdit();
                document.getElementById("input-linguagens").addEventListener("keydown", function(e) {
                    if (e.key === "Enter") {
                        e.preventDefault();
                        let val = this.value.trim();
                        if (val && !linguagensTemp.includes(val)) {
                            linguagensTemp.push(val);
                            renderTagsEdit();
                        }
                        this.value = "";
                    }
                });
            }
        }

        // Renderiza tags no modo edição
        function renderTagsEdit() {
            const container = document.getElementById("linguagens-edit-tags");
            container.innerHTML = "";
            linguagensTemp.forEach(tag => {
                const span = document.createElement("span");
                span.className = "tag";
                span.textContent = tag;
                const remove = document.createElement("span");
                remove.className = "remove-tag";
                remove.innerHTML = "&times;";
                remove.onclick = function() {
                    linguagensTemp = linguagensTemp.filter(t => t !== tag);
                    renderTagsEdit();
                };
                span.appendChild(remove);
                container.appendChild(span);
            });
        }

        // Clique no ícone de editar
        document.querySelectorAll(".edit-field-value .edit-icon").forEach(icon => {
            icon.addEventListener("click", function(e) {
                e.stopPropagation();
                const field = this.parentElement.getAttribute("data-field");
                // Se já estiver editando outro campo, fecha o anterior SEM salvar
                if (editingField && editingField !== field) {
                    // Apenas volta ao modo visualização, sem salvar alterações pendentes
                    renderFields();
                    setTimeout(() => openEdit(field), 10);
                } else if (!editingField) {
                    openEdit(field);
                }
            });
        });

        // Impede abrir edição ao clicar no campo, só permite pelo ícone
        document.querySelectorAll(".edit-field-value").forEach(el => {
            el.addEventListener("click", function(e) {
                // Não faz nada se clicar fora do ícone
            });
        });

        // Cancelar edição
        document.getElementById("btnCancelar").onclick = function() {
            linguagensTemp = [...vaga.linguagens];
            renderFields();
        };

        // Salvar edição
        document.getElementById("btnSalvar").onclick = function() {
            if (!editingField) return;
            let val;
            if (editingField === "linguagens") {
                vaga.linguagens = [...linguagensTemp];
            } else {
                const input = document.getElementById("input-" + editingField);
                if (input) val = input.value;
                vaga[editingField] = val;
            }
            renderFields();
        };
    </script>
</body>
</html>